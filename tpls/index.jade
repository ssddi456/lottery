doctype
html
  head
    meta(charset="utf8")
    link(rel="stylesheet", href="resources/twitter-bootstrap/3.2.0/css/bootstrap.min.css")
    link(rel="stylesheet", href="resources/app.css")
  body.bg
    .navbar.navbar-inverse.navbar-static-top
      ul.nav.navbar-nav.pull-right
        // ko if:(page() != 'setting')
        li
          .btn.btn-default(data-bind="click: page.bind(null,'setting')")
            a.glyphicon.glyphicon-wrench(href="#") 
              |  
        // /ko
        // ko if:(page() != 'lottory')
        li
          .btn.btn-default(data-bind="click: page.bind(null,'lottory')")
            i.glyphicon.glyphicon-ok(href="#")
              |  
        // /ko
    // ko if:(page() == 'lottory')
    .container(data-bind="click : toggleRunning")
      h1(data-bind="text : goods_description")
      .wrapper(data-bind="{\
                            attr : {\
                              class : wrapper_Class\
                            },\
                            visible : !edit_name_list()\
                          }")
        // ko foreach : current_stage_res
        .name(data-bind="text : text")
        // /ko
      .buttons(data-bind="visible : !isRunning ()")
        button.left(data-bind="{\
                            click   : prev_stage,\
                            visible : has_prev_stage\
                          }")
          | <=前一个奖项
        button.right(data-bind="{\
                            click   : next_stage,\
                            visible : has_next_stage\
                          }")
          | 后一个奖项 =>
        
    // /ko
    // ko if:(page() == 'setting')
    .container
      button.btn.btn-default(data-bind="click : toggle(edit_name_list)")
        | 编辑人员名单
      button.btn.btn-default(data-bind="click : toggle(edit_goods)")
        | 编辑奖项
      button.btn.btn-default(data-bind="click  : exports_res")
        | 获得结果(json)
      button.btn.btn-default(data-bind="click  : exports_res.bind(null,'cvs')")
        | 获得结果(cvs)
    // /ko
    // ko if:(edit_name_list())
    .edit_name_list
      textarea.input_names(placeholder="粘贴入人员名单",
               style="width:1000px;",
               data-bind="value : names")
    // /ko
    // ko if:(edit_goods())
    .row

    // /ko
    script.
      var require = {
        paths: {
          _      : 'libs/underscore-min',
          jquery : 'libs/jquery-1.7.1.min',
          ko     : 'libs/knockout-3.1.0'
        },
        deps : ['app.js']
      };
    script(type="text/javascript", src="libs/require.js").
    script.
      document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>');